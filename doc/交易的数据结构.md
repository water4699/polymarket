# äº¤æ˜“æ•°æ®ç»“æ„æ–‡æ¡£

## ğŸ“‹ æ¦‚è¿°

æœ¬æ–‡æ¡£è¯¦ç»†æè¿°äº†Polymarketäº¤æ˜“æ•°æ®çš„JSONç»“æ„ï¼Œä»¥`äº¤æ˜“ä¿¡æ¯.json`æ–‡ä»¶ä¸ºä¾‹ï¼Œæ¶µç›–ERC-20ä»£å¸è½¬è´¦è®°å½•çš„å®Œæ•´æ•°æ®æ¨¡å‹ã€‚

## ğŸ“ æ–‡ä»¶ç»“æ„

### é¡¶çº§ç»“æ„

```json
{
  "source_file": "string",
  "extraction_timestamp": "string",
  "market_info": "object",
  "total_selected_records": "number",
  "record_type": "string",
  "token_distribution": "object",
  "transactions": "array"
}
```

## ğŸ·ï¸ å­—æ®µè¯¦ç»†è¯´æ˜

### 1. å…ƒæ•°æ®å­—æ®µ

#### `source_file`
- **ç±»å‹**: `string`
- **æè¿°**: æºæ•°æ®æ–‡ä»¶çš„è·¯å¾„
- **ç¤ºä¾‹**: `"megaeth_market_trades_20260107_133244.json"`

#### `extraction_timestamp`
- **ç±»å‹**: `string`
- **æè¿°**: æ•°æ®æå–çš„æ—¶é—´æˆ³
- **æ ¼å¼**: ISO 8601æ ¼å¼
- **ç¤ºä¾‹**: `"2026-01-07T13:31:41.295448"`

#### `total_selected_records`
- **ç±»å‹**: `number`
- **æè¿°**: å½“å‰æ–‡ä»¶ä¸­åŒ…å«çš„äº¤æ˜“è®°å½•æ€»æ•°
- **ç¤ºä¾‹**: `50`

#### `record_type`
- **ç±»å‹**: `string`
- **æè¿°**: è®°å½•çš„æ•°æ®ç±»å‹æè¿°
- **ç¤ºä¾‹**: `"ERC-20 Token Transfers"`

### 2. å¸‚åœºä¿¡æ¯å¯¹è±¡ (`market_info`)

```json
{
  "id": "string",
  "question": "string",
  "conditionId": "string",
  "clobTokenIds": ["string"],
  "outcomes": ["string"],
  "contract_address": "string",
  "status": "string",
  "category": "string"
}
```

#### è¯¦ç»†å­—æ®µè¯´æ˜

- **`id`**: Polymarketå¸‚åœºå”¯ä¸€æ ‡è¯†ç¬¦
- **`question`**: å¸‚åœºé—®é¢˜æè¿°
- **`conditionId`**: Gnosis Conditional Tokensçš„æ¡ä»¶ID (64å­—ç¬¦åå…­è¿›åˆ¶)
- **`clobTokenIds`**: CLOBç³»ç»Ÿä¸­ä»£å¸IDæ•°ç»„ (ä¸¤ä¸ªå…ƒç´ : Yes/Noç»“æœ)
- **`outcomes`**: ç»“æœé€‰é¡¹æ•°ç»„ (é€šå¸¸ä¸º["Yes", "No"])
- **`contract_address`**: Conditional Tokensåˆçº¦åœ°å€
- **`status`**: å¸‚åœºçŠ¶æ€ ("active", "closed", "resolved"ç­‰)
- **`category`**: å¸‚åœºåˆ†ç±» ("Crypto", "Sports", "Politics"ç­‰)

### 3. ä»£å¸åˆ†å¸ƒç»Ÿè®¡ (`token_distribution`)

```json
{
  "USDC.e": "number",
  "WCOL": "number"
}
```

- **æè¿°**: æºæ•°æ®æ–‡ä»¶ä¸­å„ç§ä»£å¸çš„è½¬è´¦æ€»æ•°ç»Ÿè®¡
- **USDC.e**: USD Coinè½¬è´¦æ€»æ•°
- **WCOL**: Wrapped Collateralè½¬è´¦æ€»æ•°

### 4. äº¤æ˜“è®°å½•æ•°ç»„ (`transactions`)

#### å•ä¸ªäº¤æ˜“è®°å½•ç»“æ„

```json
{
  // åŒºå—é“¾åŸºç¡€ä¿¡æ¯
  "blockNumber": "string",
  "timeStamp": "string",
  "hash": "string",
  "blockHash": "string",
  "confirmations": "number",

  // äº¤æ˜“å‚ä¸æ–¹
  "from": "string",
  "to": "string",
  "contractAddress": "string",

  // ä»£å¸ä¿¡æ¯
  "tokenName": "string",
  "tokenSymbol": "string",
  "tokenDecimal": "number",
  "value": "string",

  // äº¤æ˜“å‚æ•°
  "nonce": "string",
  "transactionIndex": "number",
  "gas": "string",
  "gasPrice": "string",
  "gasUsed": "string",
  "cumulativeGasUsed": "string",

  // æ–¹æ³•è°ƒç”¨ä¿¡æ¯
  "methodId": "string",
  "functionName": "string",
  "input": "string"
}
```

#### åŒºå—é“¾åŸºç¡€ä¿¡æ¯

| å­—æ®µ | ç±»å‹ | æè¿° | ç¤ºä¾‹ |
|------|------|------|------|
| `blockNumber` | string | äº¤æ˜“æ‰€åœ¨åŒºå—å· | `"81322340"` |
| `timeStamp` | string | Unixæ—¶é—´æˆ³ | `"1767763939"` |
| `hash` | string | äº¤æ˜“å“ˆå¸Œ | `"0x128788968f12d712..."` |
| `blockHash` | string | åŒºå—å“ˆå¸Œ | `"0x3ace359aea8ae..."` |
| `confirmations` | number | ç¡®è®¤æ•° | `1` |

#### äº¤æ˜“å‚ä¸æ–¹

| å­—æ®µ | ç±»å‹ | æè¿° | ç¤ºä¾‹ |
|------|------|------|------|
| `from` | string | å‘é€æ–¹åœ°å€ | `"0x4bfb41d5b3570defd03c39a9a4d8de6bd8b8982e"` |
| `to` | string | æ¥æ”¶æ–¹åœ°å€ | `"0x4d97dcd97ec945f40cf65f87097ace5ea0476045"` |
| `contractAddress` | string | ä»£å¸åˆçº¦åœ°å€ | `"0x2791bca1f2de4661ED88A30C99A7a9449Aa84174"` |

#### ä»£å¸ä¿¡æ¯

| å­—æ®µ | ç±»å‹ | æè¿° | ç¤ºä¾‹ |
|------|------|------|------|
| `tokenName` | string | ä»£å¸å…¨ç§° | `"USD Coin (PoS)"` |
| `tokenSymbol` | string | ä»£å¸ç¬¦å· | `"USDC.e"` |
| `tokenDecimal` | number | ä»£å¸ç²¾åº¦ | `6` |
| `value` | string | è½¬è´¦é‡‘é¢(æœ€å°å•ä½) | `"1020200"` |

#### äº¤æ˜“å‚æ•°

| å­—æ®µ | ç±»å‹ | æè¿° | ç¤ºä¾‹ |
|------|------|------|------|
| `nonce` | string | äº¤æ˜“åºå· | `"8052279"` |
| `transactionIndex` | number | åŒºå—å†…äº¤æ˜“ç´¢å¼• | `133` |
| `gas` | string | Gasé™åˆ¶ | `"900000"` |
| `gasPrice` | string | Gasä»·æ ¼(wei) | `"266983010258"` |
| `gasUsed` | string | å®é™…Gasæ¶ˆè€— | `"335696"` |
| `cumulativeGasUsed` | string | åŒºå—ç´¯è®¡Gasæ¶ˆè€— | `"30224297"` |

#### æ–¹æ³•è°ƒç”¨ä¿¡æ¯

| å­—æ®µ | ç±»å‹ | æè¿° | ç¤ºä¾‹ |
|------|------|------|------|
| `methodId` | string | æ–¹æ³•ç­¾åå“ˆå¸Œ | `"0x2287e350"` |
| `functionName` | string | æ–¹æ³•åç§° | `"matchOrders(...)"` |
| `input` | string | è°ƒç”¨è¾“å…¥æ•°æ® | `"deprecated"` |

## ğŸ” é‡è¦è¯´æ˜

### æ—¶é—´æˆ³å¤„ç†

```javascript
// å°†Unixæ—¶é—´æˆ³è½¬æ¢ä¸ºå¯è¯»æ—¶é—´
const timestamp = 1767763939;
const date = new Date(timestamp * 1000);
console.log(date.toISOString()); // 2026-01-07T13:38:59.000Z
```

### é‡‘é¢æ¢ç®—

```javascript
// USDC.eé‡‘é¢æ¢ç®— (6ä½å°æ•°)
const rawValue = "1020200";  // åŸå§‹å€¼
const decimals = 6;          // å°æ•°ä½æ•°
const actualAmount = parseInt(rawValue) / Math.pow(10, decimals);
console.log(actualAmount);   // 1.0202 USDC
```

### æ–¹æ³•ç±»å‹è¯†åˆ«

| methodId | æ–¹æ³•åç§° | è¯´æ˜ |
|----------|----------|------|
| `0x2287e350` | `matchOrders` | CLOBè®¢å•åŒ¹é…äº¤æ˜“ |
| `0x6a761202` | `execTransaction` | æ‰§è¡Œäº¤æ˜“(å¤šç­¾) |
| `0x01b7037c` | `redeemPositions` | èµå›ä»“ä½ |

## ğŸ“Š æ•°æ®ç‰¹ç‚¹

### æ ·æœ¬ç»Ÿè®¡ (50æ¡è®°å½•)
- **æ—¶é—´èŒƒå›´**: åŒä¸€åŒºå— (81322340)
- **ä»£å¸åˆ†å¸ƒ**: USDC.e 96%, WCOL 4%
- **äº¤æ˜“ç±»å‹**: ä¸»è¦ä¸º`matchOrders`
- **é‡‘é¢èŒƒå›´**: å‡ åƒåˆ°å‡ ç™¾ä¸‡USDCä¸ç­‰

### æ•°æ®å®Œæ•´æ€§
- âœ… æ‰€æœ‰å¿…éœ€å­—æ®µéƒ½å­˜åœ¨
- âœ… æ—¶é—´æˆ³æ ¼å¼ç»Ÿä¸€
- âœ… åœ°å€æ ¼å¼æ­£ç¡®
- âœ… é‡‘é¢æ•°æ®å‡†ç¡®

## ğŸ’¡ ä½¿ç”¨ç¤ºä¾‹

### 1. è®¡ç®—æ€»äº¤æ˜“é‡‘é¢

```javascript
function calculateTotalVolume(transactions) {
  let totalUSDC = 0;
  let totalWCOL = 0;

  transactions.forEach(tx => {
    const amount = parseInt(tx.value) / Math.pow(10, tx.tokenDecimal);

    if (tx.tokenSymbol === 'USDC.e') {
      totalUSDC += amount;
    } else if (tx.tokenSymbol === 'WCOL') {
      totalWCOL += amount;
    }
  });

  return { totalUSDC, totalWCOL };
}
```

### 2. æŒ‰æ—¶é—´æ’åºäº¤æ˜“

```javascript
function sortTransactionsByTime(transactions) {
  return transactions.sort((a, b) => {
    return parseInt(a.timeStamp) - parseInt(b.timeStamp);
  });
}
```

### 3. ç»Ÿè®¡æ´»è·ƒåœ°å€

```javascript
function countActiveAddresses(transactions) {
  const addresses = new Set();

  transactions.forEach(tx => {
    addresses.add(tx.from);
    addresses.add(tx.to);
  });

  return addresses.size;
}
```

## ğŸ”— ç›¸å…³æ–‡æ¡£

- [Etherscan API æ–‡æ¡£](https://docs.etherscan.io/)
- [Polymarket API æ–‡æ¡£](https://docs.polymarket.com/)
- [ERC-20 ä»£å¸æ ‡å‡†](https://ethereum.org/en/developers/docs/standards/tokens/erc-20/)

---

**æ–‡æ¡£ç‰ˆæœ¬**: 1.0
**æœ€åæ›´æ–°**: 2026-01-07
**æ•°æ®æ¥æº**: MegaETHå¸‚åœºäº¤æ˜“è®°å½•
